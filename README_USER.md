# CosyAudiobook 使用說明 (Mac版)

> 完全離線的 AI 有聲書產生器，專為 Apple Silicon Mac 設計。

---

## 快速開始

### 第一步：解壓縮
將 `CosyAudiobook_Mac_Portable.zip` 解壓縮到任何位置（建議放在「桌面」或「文件」）。

### 第二步：啟動程式
雙擊 `start_app.command` 即可啟動。

| 狀態 | 說明 |
|------|------|
| ⏳ 首次啟動 | 自動安裝依賴套件，約需 5-10 分鐘，請耐心等待 |
| ⚡ 之後啟動 | 自動跳過安裝，幾秒即可啟動 |

> **如果雙擊無法執行**：按右鍵 → 選擇「打開」  
> **如果看到「未識別的開發者」**：前往「系統設定」→「隱私權與安全性」→ 允許執行

### 第三步：使用

瀏覽器會自動開啟 http://localhost:8000，按以下步驟操作：

1. **🎙️ 上傳參考語音**（左上角）
   - 格式：WAV 或 MP3
   - 長度：約 5-10 秒清晰語音
   - 用途：AI 會克隆這段聲音來朗讀

2. **📖 上傳電子書**（左下角）
   - 格式：EPUB 檔案
   - 系統會自動解析章節結構

3. **✅ 選擇章節**（右側面板）
   - 勾選您想要生成的章節
   - 智慧過濾器會自動跳過目錄和版權頁

4. **🎧 選擇 TTS 模型**
   - **CosyVoice3**：使用您上傳的聲音（聲音克隆）
   - **Qwen3**：使用內建音色（不需參考音訊）

5. **▶️ 開始生成**
   - 點擊「開始生成」
   - 即時進度列顯示處理狀態
   - 完成後可下載 MP3 檔案

---

## 注意事項

| 項目 | 說明 |
|------|------|
| 🔒 隱私安全 | 所有運算在您的 Mac 上執行，完全離線 |
| 💻 硬體需求 | 需要 Apple Silicon (M1/M2/M3/M4) Mac |
| 🌐 首次下載 | 第一次使用模型時需下載 ~2GB，之後離線 |
| 📁 檔案位置 | 產生的音訊在 `output/` 資料夾 |

## 疑難排解

| 問題 | 解決方案 |
|------|---------|
| 程式無法啟動 | 確認已安裝 Python 3 和 FFmpeg |
| 安裝過程出錯 | 檢查 `install.log` 查看詳細錯誤 |
| 生成失敗 | 刪除 `venv_cosyvoice3` 資料夾後重新啟動 |
| Port 被佔用 | 開啟「終端機」執行 `pkill -f uvicorn` |

---

*版本資訊請查看 `VERSION` 檔案*
